<template lang="pug">
  .h-screen.w-screen.bg-gray-200
    .h-screen
      CDotsMenuContacts
      .h-screen.overflow-hidden
        div.w-full.bg-white.shadow-xl.h-20
          div.absolute.right-0
            div.flex.items-center
              div.text-red-700.text-xl.pr-4.text- {{$store.getters.getcurrentUser}}
              amplify-sign-out
        CMenu
        div.block.lg_flex.justify-end.h-screen.overflow-y-scroll(class="w-full h-screen") 
          div.w-full.h-screen.overflow-y-scroll(class="w-full lg_w-6/12") 
            div.w-full.flex.justify-center
                CCard.h-16.flex.justify-content.items-center.bg-white.mb-6.mt-6.text-red-700.text-lg(class="w-11/12")
                  template(slot='content')
                    span.ml-4 Sql Inyeccion
            div.w-full.flex.justify-center
              CCard.h-64.flex.justify-content.items-center.bg-white.mb-6.mt-6(class="w-11/12")
                template(slot='content')
                  span Zona de ingreo de la vulnerabilidad campos y formularios etc
            div.w-full.flex.justify-center
              CCard.h-64.flex.justify-content.items-center.bg-white.mb-6.mt-6(class="w-11/12")
                template(slot='content')
                  span Zona de ingreo de la vulnerabilidad campos y formularios etc
            div.w-full.flex.justify-center
              CCard.h-64.flex.justify-content.items-center.bg-white.mb-6.mt-6(class="w-11/12")
                template(slot='content')
                  span Zona paramostar o explicar lo que produjo la vulnerabildiad variaber socigo etd dentro de modo inseguro zona para msotar o explciasr lo que paro la ejecicion de la vulneraflasdj
          div.w-full(class="w-full h-screen lg_w-3/12 overflow-y-scroll") 
            CChangeMode
            div.w-full.flex.justify-center
              CCard.h-64.flex.justify-content.items-center.bg-white.mb-6.mt-6(class="w-11/12")
                template(slot='content')
                  span Vulnrabilidad Titulo Rese;a
</template>

<script>
import { components, AmplifyEventBus } from 'aws-amplify-vue'
import { Auth } from 'aws-amplify'
import CDotsMenuContacts from '~/components/CDotsMenuContacts.vue'
import CMenu from '~/components/CMenu.vue'
import CCard from '~/components/CCard.vue'
import CChangeMode from '~/components/CChangeMode.vue'

export default {
  components: {
    ...components,
    CDotsMenuContacts,
    CMenu,
    CCard,
    CChangeMode
  },
  data() {
    return {
      body: ''
    }
  },
  async mounted() {
    AmplifyEventBus.$on('authState', (info) => {
      console.log('auth', info)
      if (info === 'signedOut') {
        this.$router.push('/')
      }
    })
    const userObject = await Auth.currentAuthenticatedUser()
    this.$store.commit('SET_CURRENT_USER', userObject.username)
  }
}
</script>
